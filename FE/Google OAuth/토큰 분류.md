토큰 분류
===
토큰은 크게 **역할**과 **형식**에 따라 분류할 수 있다.

이 두가지는 별개의 분류 방법으로, **토큰의 기능**과 **토큰의 표현 방식**을 각각 다루는 방식이다. 이를 구분하면 토큰 시스템을 더 명확하게 이해할 수 있다.

## 1. 역할에 따른 분류
토큰의 **사용 목적**에 따라 다음 두 가지로 나뉜다.

### 1. Access 토큰
- **역할 :** 리소스(API 등)에 접근하기 위해 사용
- **특징 :**
    - 짧은 유효 기간 (예: 1시간)
    - API 요청 시 헤더에 포함되어 사용:
     `Authorization: Bearer {Access_Token}`
    - 권한(Scope) 을 포함하여 특정 리소스에만 접근 가능

### 2. Refresh 토큰
- **역할 :** Access 토큰이 만료되었을 때 새로운 Access 토큰을 발급받기 위해 사용

- **특징 :**
    - 장기적인 유효 기간을 가짐
    - 보안상의 이유로 클라이언트에 저장되며, 직접 API 호출에 사용되지 않음
    - 서버에 요청하여 Access 토큰을 갱신

---

## 2. 형식에 따른 분류
토큰의 **구조**나 **표현 방식**에 따라 다음 두 가지로 나뉜다.

### 1. JWT (JSON Web Token)
- **정의 :** JSON 형식으로 작성된 데이터 구조로, 자체적으로 정보를 포함
- **특징 :**
    - 서명(Signature) 을 포함해 위변조 방지
    - 자체 인증 가능하며, 서버에서 세션 정보를 저장하지 않아도 됨

    **구조**
    ```
    {Header}.{Payload}.{Signature}
    ```
    예: `eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...`
    - 주로 Access 토큰으로 사용됨
    

### 2. Opaque Token (블투명 토큰)
- **정의 :** 단순히 랜덤 문자열로 구성된 토큰

- **특징 :**
    - 클라이언트가 내용을 알 수 없으며, 서버에서 토큰의 유효성을 확인해야 함
    - 주로 Refresh 토큰이나 일부 Access 토큰에서 사용


---

## 3. 역할과 형식의 관계
역할(Access/Refresh) 과 형식(JWT/Opaque) 은 **독립적**이며, 서로 조합되어 사용된다.

| 역할 | 형식 | 설명 |
| --- | --- | --- |
| Access 토큰 | JWT | 사용자의 권한 및 정보를 포함하며 API 호출 시 사용. |
| Access 토큰 | Opaque | 단순 문자열로, 서버에서만 해석 가능. |
| Refresh 토큰 | JWT | 장기적으로 유효하며 Access 토큰 재발급에 사용. |
| Refresh 토큰 | Opaque | 단순 문자열로, 클라이언트가 서버에 제출해야만 확인 가능. |

### 정리
- **역할에 따른 분류 :** 토큰의 **목적**에 따라 Access 토큰과 Refresh 토큰으로 나뉜다.
- **형식에 따른 분류 :** 토큰의 **구조**에 따라 JWT 와 Opaque 로 나뉜다.
- 역할과 형식은 독립적이며, 조합하여 사용할 수 있다.
