브릿지 방식 렌더링 동작 원리
===

![](https://velog.velcdn.com/images/heejin62/post/4e5f9e3a-f02a-46b3-99ba-7b9de2f9c34d/image.png)

React Native 의 **브릿지 방식 렌더링**은 **JavaScript 코드와 네이티브 코드가 서로 독립적인 스레드에서 동작하며** 메시지 큐를 통해 데이터를 주고 받는 구조이다. 

## 1. 두 개의 주요 스레드

#### UI 스레드:
네이티브 화면 구성 요소를 관리하고 사용자의 터치나 스크롤 같은 상호작용을 처리하는 역할을 한다.

#### JavaScript (JS) 엔진 스레드:
앱 로직을 담당하며, JavaScript 코드를 실행한다. 상태 관리, 데이터 로직, 이벤트 핸들링 등을 여기서 처리함

## 2. 메시지 큐를 통한 통신
- 두 스레드는 서로 독립적이므로 직접 통신하지 않고 **메시지 큐**를 통해 데이터를 주고 받는다.
- **UI 스레드**에서 이벤트가 발생하면 메시지 큐를 통해 **JS 엔진 스레드**로 이벤트 정보를 전달한다. 예를 들어, 버튼을 클릭하면 클릭 이벤트가 UI 스레드에서 감지되어 JS 엔진 스레드로 전달된다.
- **JS 엔진 스레드**는 전달받은 이벤트를 처리하고 결과를 다시 메시지 큐를 통해 **UI 스레드**로 보낸다.

## 3. 브릿지 (Bride) 프레임워크의 이점
- **유연성 :** 네이티브 코드와 JS 코드가 독립적으로 동작하므로, 서로 간섭 없이 필요한 부분만 통신함
- **확장성 :** ios 와 Android 의 네이티브 UI 와 JavaScript 간의 통신이 가능해 여러 플랫폼에서 재사용할 수 있다.

## 4. 동작 방식 예시
- 사용자가 버튼을 누름. 이 이벤트는 **UI 스레드**에서 감지됨
- UI 스레드는 **메시지 큐**에 이 이벤트를 추가하여 **JS 엔진 스레드**에 전달한다.
- **JS 엔진 스레드**가 이 이벤트를 처리하여 새 데이터를 생성하고, 그 데이터를 **UI 스레드**로 다시 보낸다
- **UI 스레드**는 JS 엔진에서 받은 데이터를 반영하여 UI 를 업데이트함

### 정리
React Native는 브릿지 방식을 통해 JavaScript 와 네이티브 코드가 함께 작동할 수 있도록 하며, 이 구조 덕분에 JavaScript 로 작성된 로직이 ios 와 안드로이드 네이티브 UI 에서 동일하게 작동할 수 있당