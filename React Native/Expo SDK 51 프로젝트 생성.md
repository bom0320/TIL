Expo SDK 51 버전 업데이트로 인해 변경된 점 알아보기 (프로젝트 생성)
===

불과 며칠전까지만 해도 분명히 문제 없이 사용했던 아래 명령어를 동일하게 입력해 프로젝트를 생성했는데 평소에는 볼 수 없던 전혀 다른 프로젝트가 생성되었다.

```
프로젝트 생성 명령어: "npx create-expo-app 프로젝트 이름"
```

Expo 공식 홈페이지를 들어가봤지만 여전히 초기 프로젝트 생성 명령어는 동일했다. 이 프로젝트는 생성되는 속도도 오래 걸렸고 내부 파일들도 전혀 다른 파일들이 생성되었다. 당황스러웠지만 공식 홈페이지를 읽어보니 **SDK 51**  버전이 새롭게 출시된 것이 원인이였다는 것을 알게되었다.

### Expo SDK 51이란?
Expo SDK 51 은 24년 5월 8일 React Native 0.75 버전을 기반으로 새롭게 출시된 버전이다.

## Expo SDK 51 버전 업데이트로 인해 변경된 점 첫 번째
SDK 51 에서 변경된 주요 사항으로 가장 중요한 것은 아무래도 새로운 아카텍처일 듯 싶다. 

**홈페이지 주소 :** https://expo.dev/changelog/2024/05-07-sdk-51

## Expo SDK 51 버전 업데이트로 인해 변경된 점 두 번재
프로 개발자들이 봤을 때는 어이없을 수 있겠지만 초보 개발자 입장에서 봤을 때 가장 큰 변화는 프로젝트를 생성할 때 기본으로 생성되는 프로젝트의 템플릿이 새로워진다는 것이였다.

기존에는 프로젝트를 생성하는 명령어인 `"npx create-expo-app 앱이름"` 를 입력하면 기본적인 파일로 구성된 프로젝트만 생성되었다.

그리고 생성된 파일 중 **App.js** 를 수정하여 프로젝트 개발을 시작할 수 있었다. 

그러나 SDK 51 이후부터는 새 프로젝트를 생성하면 대부분의 프로젝트에서 필요하다고 생각되는 공통 **dependencies** 과 구성이 포함되어 프로젝트가 생성된다. 기존 프로젝트와 주된 차이로 아래 두 가지가 있다.


### 첫 번째, 디폴트로 **`expo-router` 라이브러리가 설치된 프로젝트가 생성** 되며 아래와 같은 파일 구성을 갖고 있다.

#### 1) App 폴더:
앱의 소스 코드와 리소스 파일이 포함되어 있는 주요 디렉터리로 화면, 컴포넌트, 라우터, 스타일 시트, 리소스 파일 등이 들어 있다. 초기 프로젝트에서는 `index.tsx` 와 `explore.tsx` , `_layour.tsx` 파일이 위치하는 곳이다.

#### 2) components:
밝은 테마와 어두운 테마에서 앱의 색 구성표를 사용하는 텍스트 요소를 만드는 `ThemeText.tsx` 와 같은 React Native 구성 요소가 들어있는 폴더이다.

#### 3) constants:
앱 전체의 색상 값 목록이 들어있는 `Colors.ts` 와 같이 앱 전역에서 사용되는 상수 값들이 정의되는 디렉터리이다.

#### 4) hooks:
React 컴포넌트에서 사용할 커스텀  훅 함수들이 정의되어 있는 디렉터리이다. 현재 테마를 기반으로 색상을 반환하는 훅 함수인 useThemColor() 와 같은 함수들이 위치한다.

#### 5) scripts: 
빌드 스크립트나 배포 스크립트 등의 프로젝트 관련 스크립트파일들이 위치하는 디렉터리로 초기 프로젝트에는 프로젝트를 리셋하는 스크립트 파일이 들어있다.

### 두 번째, 기존에는 단순히 메인 화면에 한 줄 입력되어 있는 기본 화면에서 파일 기반 라우팅 방식으로 두 개의 탭으로 구성된 화면이 구현되어 있다. 

아래 사진은 직접 수행해 본 앱 실행화면이다.
![](https://blog.kakaocdn.net/dn/Kh6xI/btsHo6c56EW/J0u8SWqbDIfmwYXQ08MsOK/img.webp)


#### 첫 번째 홈화면(index.tsx) 은 
실제 변경된 화면을 바로 확인할 수 있도록 `index.tsx` 파일을 수정하라는 설명과,

 두 번째 태인 Explore 에 대한 간단한 설명, 
 
 마지막으로 기본으로 작성된 코드를 리셋해 불필요한 코드를 삭제하고 가장 기본적인 구성만 남기는 방법이 적혀있3ㅏ.

 #### 두 번째 화면은 Explore 로
디폭트 프로젝트에서 구현되어 있는 아래 기능들에 대해 소개되어 있다.
 
#### 1) File-based-routing :
파일 기반 라우팅 방식으로 앱은 두 개의 스크립을 갖고 있고 , 하나는 `index.tsx` , 나머지 하나는 `explore.tsx` 파일이다.

`app/(tabs)/_layout.tsx` 레이아웃 파일에서 탭 내비게이션이 구성되어 있다.

#### 2) Android, ios, and web support:
Android, ios 그리고 웹에서 모두 열 수 있게 만들어져 있다.

#### 3) Images:
다양한 화면에 대한 이미지를 제공한다.

#### 4) Custom fonts: 
커스텀 폰트를 사용하는 법을 제공한다.

#### 5) Light and dark modes: 
밝은 테마와 어두은 테마를 템플릿에서 제공하고 있다.

#### 6) Animations:
애니메이션 API 를 사용하여 손 흔들기 애니메이션을 예시로 볼 수 있다.

## Blank 프로젝트를 생성하는 방법
변경된 사항에 대해서는 공식 홈페이지에서 소개한 대로 기존의 명령어 그대로 실행을 하면 프로젝트를 생성하고 앱을 만드는것에는 문제가 없었다.

그러나 나는 처음 배우고 있기 때문에 수많은 예제들이 기본 프로젝트에서 시작하고 있어 기본 프로젝트를 만들어야 했다.


SDK 51 로 업데이트한 지 얼마 지나지 않아서인지 기존과 같은 방식으로 프로젝트를 생성하는 방법이 나오지 않앗다.

계속 공식 홈페이지를 차장보다보니 아래와 같이 기존과 동일한 빈 프로젝트를 생성할 수 있는 명령어가 나와 있었다.

**빈 프로젝트 생성 명령어 :**
```bash
npx create-expo-app StickerSmash --template blank
```

**Tip .** 새로운 프로젝트를 생성 후 불필요한 요소들을 삭제하고 처음부터 앱을 만들기 위해 아래 명령어를 입력하도록 가이드 되어있다.

그러나 npx를 통해 해당 명령어를 입력하면 파일이 없다는 오류가 계속 발생한다. 당연할 수 있지만 npx 가 아닌 npm 으로 해당 명령어를 수행하면 reset-project 스크립트가 실행되며 실행 후 만약 `app_example` 파일을 생성할 수 없다는 오류가 나오면 VS code를 관리자 권한으로 실행 후 해당 명령어를 실행하면 정상적으로 수행되는 것을 볼 수 있다.

```bash
npx run reset-project
```