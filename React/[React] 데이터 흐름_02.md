[React] 데이터 흐름_02
===
React의 상태 관리에 대해 좀더 자세히 알아보도록 하자

## "두 자식의 공통적인 부모 컴포넌트에 상태를 위치시키는 것"이란?
React 에서는 **상태(state)** 를 어디에 두느냐가 중요한데, **여러 컴포넌트가 같은 상태**를 필요로 하는 경우가 있을 수 있다. 

이때, 그 상태를 필요한 **모든 컴포넌트에서 접근할 수 있는 위치**에 두는 것이 핵심이다.

## 예시를 들어 설명

### 상황:
- 컴포넌트 A 와 컴포넌트 B 가 있다고 생각해보자
- 이 두 컴포넌트가 **같은 데이터를 필요로 해** , 예를 들어 "로그인된 유저 정보"라고 하자

이때, A 와 B 는 **서로 다른 컴포넌트**지만, 둘 다 같은 상태(로그인된 유저 정보)를 필요로 한다. 그럼 어떻게 해야할까?

### 해결 방법:
#### 1. 공통 부모 컴포넌트를 찾는다:
- A와 B 의 컴포넌트가 같은 상태를 필요로 하니까, 그 상태를 두 컴포넌트의 **공통된 부모 컴포넌트**에 위치시켜야 한다.
- 이렇게 하면 A 와 B 는 공통 부모로부터 상태를 **props** 로 전달받아 사용할 수 있다.

#### 2. 부모 컴포넌트에서 상태를 관리:
- 부모 컴포넌트는 `useState` 를 이용해서 필요한 상태(예: 유저 정보) 를 관리하고,
- 그 상태를 자식 컴포넌트 A 와 B에 **props로 전달**해 줄 수 있다.
- 이렇게 하면 상태를 **한 군데**에서만 관리하고, 자식 컴포넌트는 필요한 데이터를 쉽게 사용할 수 있게 된다.

## 쉽게 풀어 설명하면:
- 만약 **두 자식 컴포넌트가 동일한 상태**를 필요로 한다면, 그 상태를 각각의 컴포넌트에 따로 관리하지 않고, 그 **공통된 부모 컴포넌트에서 상태를 관리**한다. 그러면 그 부모가 두 자식에세 그 상태를 **props로 내려줄 수 있다.**
- 이렇게 하면 상태가 **한 곳에서만 관라**되기 때문에, 복잡성이 줄어들고, 자식 컴포넌트들이 동일한 데이터를 서로 공유할 수 있게 된다.

## 예시 코드:
```jsx
const Parent = () => {
    const [user,setUser] = useState({name: "Alice", loggedIn: true});

    return (
        <div>
            <ChildA user={user} />
            <ChildB user={user} />
        </div>
    );
};

const ChildA = ({ user }) => {
    return <div>Welcome, {user.name}!</div>;
};

const ChildB = ({ user }) => {
     return <div>{user.loggedIn ? "You are logged in" : "Please log in"}</div>;
};
```

#### 이 코드에서:
- `Parent` 컴포넌트가 **공통 부모**다.
- `user` 상태는 `Parent` 에서 관리되고, 그 상태를 `ChildA` 와 `childB` 가 **props 로 전달 받아** 사용한다.
- 이렇게 하면 `user` 상태는 **한 곳에서만 관리**되지만, 두 자식 컴포넌트가 그 상태를 **공유**할 수 있다.

## 결론:
- "두 자식의 공통적인 부모 컴포넌트에 상태를 위치시킨다"는 건, **두 자식 컴포넌트가 같은 데이터를 필요로 하면 그 상태를 부모 컴포넌트에서 관리하고, 자식들에 props 로 전달**한다는 뜻이다.
- 이렇게 하면 상태가 중복 관리되지 않고, 한 군데에서만 관리되면서 자식들이 그 상태를 공유할 수 있게 된다.